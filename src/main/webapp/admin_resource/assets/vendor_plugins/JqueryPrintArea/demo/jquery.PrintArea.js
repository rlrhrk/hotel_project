(function(a){var b=0;var d={iframe:"iframe",popup:"popup"};var g={strict:"strict",loose:"loose",html5:"html5"};var c={mode:d.iframe,standard:g.html5,popHt:500,popWd:400,popX:200,popY:200,popTitle:"",popClose:false,extraCss:"",extraHead:"",retainAttr:["id","class","style"]};var f={};a.fn.printArea=function(j){a.extend(f,c,j);b++;var i="printArea_";a("[id^="+i+"]").remove();f.id=i+b;var h=a(this);var k=e.getPrintWindow();e.write(k.doc,h);setTimeout(function(){e.print(k)},1000)};var e={print:function(i){var h=i.win;a(i.doc).ready(function(){h.focus();h.print();if(f.mode==d.popup&&f.popClose){setTimeout(function(){h.close()},2000)}})},write:function(i,h){i.open();i.write(e.docType()+"<html>"+e.getHead()+e.getBody(h)+"</html>");i.close()},docType:function(){if(f.mode==d.iframe){return""}if(f.standard==g.html5){return"<!DOCTYPE html>"}var i=f.standard==g.loose?" Transitional":"";var h=f.standard==g.loose?"loose":"strict";return'<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01'+i+'//EN" "http://www.w3.org/TR/html4/'+h+'.dtd">'},getHead:function(){var h="";var i="";if(f.extraHead){f.extraHead.replace(/([^,]+)/g,function(j){h+=j})}a(document).find("link").filter(function(){var j=a(this).attr("rel");return(a.type(j)==="undefined")==false&&j.toLowerCase()=="stylesheet"}).filter(function(){var j=a(this).attr("media");return a.type(j)==="undefined"||j==""||j.toLowerCase()=="print"||j.toLowerCase()=="all"}).each(function(){i+='<link type="text/css" rel="stylesheet" href="'+a(this).attr("href")+'" >'});if(f.extraCss){f.extraCss.replace(/([^,\s]+)/g,function(j){i+='<link type="text/css" rel="stylesheet" href="'+j+'">'})}return"<head><title>"+f.popTitle+"</title>"+h+i+"</head>"},getBody:function(i){var j="";var h=f.retainAttr;i.each(function(){var l=e.getFormData(a(this));var k="";for(var n=0;n<h.length;n++){var m=a(l).attr(h[n]);if(m){k+=(k.length>0?" ":"")+h[n]+"='"+m+"'"}}j+="<div "+k+">"+a(l).html()+"</div>"});return"<body>"+j+"</body>"},getFormData:function(j){var i=j.clone();var h=a("input,select,textarea",i);a("input,select,textarea",j).each(function(l){var m=a(this).attr("type");if(a.type(m)==="undefined"){m=a(this).is("select")?"select":a(this).is("textarea")?"textarea":""}var k=h.eq(l);if(m=="radio"||m=="checkbox"){k.attr("checked",a(this).is(":checked"))}else{if(m=="text"){k.attr("value",a(this).val())}else{if(m=="select"){a(this).find("option").each(function(n){if(a(this).is(":selected")){a("option",k).eq(n).attr("selected",true)}})}else{if(m=="textarea"){k.text(a(this).val())}}}}});return i},getPrintWindow:function(){switch(f.mode){case d.iframe:var h=new e.Iframe();return{win:h.contentWindow||h,doc:h.doc};case d.popup:var i=new e.Popup();return{win:i,doc:i.doc}}},Iframe:function(){var i=f.id;var k="border:0;position:absolute;width:0px;height:0px;right:0px;top:0px;";var j;try{j=document.createElement("iframe");document.body.appendChild(j);a(j).attr({style:k,id:i,src:"#"+new Date().getTime()});j.doc=null;j.doc=j.contentDocument?j.contentDocument:(j.contentWindow?j.contentWindow.document:j.document)}catch(h){throw h+". iframes may not be supported in this browser."}if(j.doc==null){throw"Cannot find document."}return j},Popup:function(){var i="location=yes,statusbar=no,directories=no,menubar=no,titlebar=no,toolbar=no,dependent=no";i+=",width="+f.popWd+",height="+f.popHt;i+=",resizable=yes,screenX="+f.popX+",screenY="+f.popY+",personalbar=no,scrollbars=yes";var h=window.open("","_blank",i);h.doc=h.document;return h}}})(jQuery);