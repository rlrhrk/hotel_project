"use strict";var WeatherIcon=(function(){function a(b,d,c){this.isPlaying=false;this.canvas=new a.Canvas(b);this.canvas.setCanvasSize(128,128);this.fps=30;this.particlesBorder=20;this.spf=1000/this.fps;this.objects=[];this.particles=[];this.timer=false;this.canvas.ctx.fillStyle="#fff";if(d){this.stroke=true;this.canvas.ctx.lineWidth=2;this.canvas.ctx.strokeStyle="#000"}else{this.stroke=false;this.canvas.ctx.strokeStyle="transparent"}if(c){this.canvas.ctx.shadowOffsetX=0;this.canvas.ctx.shadowOffsetY=0;this.canvas.ctx.shadowBlur=5;this.canvas.ctx.shadowColor="black"}}a.Canvas=(function(){function b(g,f){if(g){if(g.nodeName=="CANVAS"){this.canvas=g}else{this.canvas=document.createElement("canvas");if(f){this.canvas.id=f}g.appendChild(this.canvas);if(b.ieMode){G_vmlCanvasManager.initElement(this.canvas)}}}else{this.canvas=document.createElement("canvas");if(b.ieMode){G_vmlCanvasManager.initElement(this.canvas)}}this.ctx=this.canvas.getContext("2d")}b.prototype={setSize:function(g,f){this.setCanvasSize(g,f);this.setHtmlSize(g+"px",f+"px")},setCanvasSize:function(g,f){this.canvas.width=g;this.canvas.height=f},setHtmlSize:function(g,f){this.canvas.style.width=g;this.canvas.style.height=f},drawBox:function(i,f,g){this.ctx.beginPath();this.ctx.moveTo(g,0);this.ctx.lineTo(i-g,0);this.ctx.bezierCurveTo(i,0,i,0,i,g);this.ctx.lineTo(i,f-g);this.ctx.bezierCurveTo(i,f,i,f,i-g,f);this.ctx.lineTo(g,f);this.ctx.bezierCurveTo(0,f,0,f,0,f-g);this.ctx.lineTo(0,g);this.ctx.bezierCurveTo(0,0,0,0,g,0);this.ctx.fill()},clear:function(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)}};b.supported=function(){var f=document.createElement("canvas");return(f.getContext)?true:false};var d=-1,e=navigator.userAgent,c=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");if(c.exec(e)!=null){d=parseFloat(RegExp.$1)}b.ieMode=(d>-1&&d<9);return b}());a.Point=(function(){function b(c,d){this.x=c||0;this.y=d||0}b.prototype.add=function(c){this.x+=c.x;this.y+=c.y};b.prototype.set=function(c,d){this.x=c;this.y=d};b.prototype.prod=function(c){this.x*=c;this.y*=c};b.prototype.clone=function(){return new a.Point(this.x,this.y)};b.prototype.rotate=function(c){var d=this.x;var e=this.y;this.x=d*c.x-e*c.y;this.y=d*c.y+e*c.x};return b}());a.Circle=function(b,c){this.center=b;this.r=c};a.prototype={draw:function(){var b;this.canvas.clear();b=this.particles.length;while(b--){this.particles[b].update(10);this.particles[b].draw(this.canvas.ctx)}b=this.objects.length;while(b--){this.objects[b].update(10);this.objects[b].draw(this.canvas.ctx)}},update:function(){this.isPlaying=true;this.draw();this.timer=setTimeout(this.update.bind(this),this.spf)},play:function(){this.stop();this.update()},stop:function(){this.isPlaying=false;if(this.timer){clearTimeout(this.timer);this.timer=false}},setBody:function(b){this.body=b},setIcon:function(b){this.icon=b},toggle:function(){this.isPlaying?this.stop():this.play()},change:function(b,c){this.icon=b;this.setIcon(b);this.setBody(c===a.NIGHT?a.NIGHT:a.DAY);this.build();this.draw()},addRain:function(e){e=e==a.LIGHT?a.LIGHT:a.HEAVY;var d=0.2,b=0.2,f=60,c=a.particles[e].length;while(c--){this.particles.push(new a.Drop(a.particles[e][c],d,b,f))}},addSnow:function(e){e=e==a.LIGHT?a.LIGHT:a.HEAVY;var d=0.2,b=0.2,f=60,c=a.particles[e].length;while(c--){this.particles.push(new a.Snow(a.particles[e][c],d,b,f))}},addSleet:function(){var f=a.LIGHT,e=0.2,b=0.2,g=60,d=a.particles[f].length;while(d--){var c=(d%2)?new a.Drop(a.particles[f][d],e,b,g):new a.Snow(a.particles[f][d],e,b,g);this.particles.push(c)}},build:function(){this.objects=[];this.particles=[];switch(this.icon){case a.SUN:this.objects.push(this.body==a.DAY?new a.Sun(64,64,30):new a.Moon(64,64,30));break;case a.LIGHTCLOUD:this.objects.push(new a.Cloud(80,100,40));this.objects.push(this.body==a.DAY?new a.Sun(64,64,30):new a.Moon(64,64,30));break;case a.PARTLYCLOUD:this.objects.push(new a.Cloud(68,90,80));this.objects.push(this.body==a.DAY?new a.Sun(64,54,30):new a.Moon(64,54,30));break;case a.CLOUD:this.objects.push(new a.Cloud(90,80,40));this.objects.push(new a.Cloud(68,60,80));break;case a.LIGHTRAINSUN:this.objects.push(new a.Cloud(68,60,80));this.objects.push(this.body==a.DAY?new a.Sun(40,30,20):new a.Moon(40,30,20));this.addRain(a.LIGHT);break;case a.SLEETSUN:this.objects.push(new a.Cloud(68,60,80));this.objects.push(this.body==a.DAY?new a.Sun(40,30,20):new a.Moon(40,30,20));this.addSleet();break;case a.SNOWSUN:this.objects.push(new a.Cloud(68,60,80));this.objects.push(this.body==a.DAY?new a.Sun(40,30,20):new a.Moon(40,30,20));this.addSnow(a.LIGHT);break;case a.SNOW:this.objects.push(new a.Cloud(68,50,80));this.addSnow();break;case a.SNOWTHUNDER:this.objects.push(new a.Cloud(68,50,80));this.addSnow(a.LIGHT);this.objects.push(new a.Thunder(55,82,0.8));break;case a.THUNDER:this.objects.push(new a.Cloud(68,50,80));this.objects.push(new a.Thunder(30,75,0.6));this.objects.push(new a.Thunder(60,80,0.7));this.objects.push(new a.Thunder(90,75,0.6));break;case a.SLEETSUNTHUNDER:this.objects.push(new a.Cloud(68,60,80));this.objects.push(this.body==a.DAY?new a.Sun(40,30,20):new a.Moon(40,30,20));this.addSleet();this.objects.push(new a.Thunder(95,85,0.7));this.objects.push(new a.Thunder(58,88,0.8));break;case a.LIGHTRAINTHUNDERSUN:this.objects.push(new a.Cloud(68,60,80));this.objects.push(this.body==a.DAY?new a.Sun(40,30,20):new a.Moon(40,30,20));this.addRain(a.LIGHT);this.objects.push(new a.Thunder(30,75,0.6));this.objects.push(new a.Thunder(58,90,0.7));break;case a.SNOWSUNTHUNDER:this.objects.push(new a.Cloud(68,60,80));this.objects.push(this.body==a.DAY?new a.Sun(40,30,20):new a.Moon(40,30,20));this.addSnow(a.LIGHT);this.objects.push(new a.Thunder(30,75,0.6));this.objects.push(new a.Thunder(58,90,0.7));break;case a.LIGHTRAIN:this.objects.push(new a.Cloud(68,50,80));this.addRain(a.LIGHT);break;case a.RAIN:this.objects.push(new a.Cloud(68,50,80));this.addRain();break;case a.FOG:this.objects.push(new a.Fog(68,90,80));this.objects.push(this.body==a.DAY?new a.Sun(64,54,30):new a.Moon(64,54,30));break;case a.LIGHTRAINTHUNDER:this.objects.push(new a.Cloud(68,50,80));this.addRain(a.LIGHT);this.objects.push(new a.Thunder(30,72,0.7));this.objects.push(new a.Thunder(58,88,0.8));break;case a.RAINTHUNDER:this.objects.push(new a.Cloud(68,50,80));this.addRain();this.objects.push(new a.Thunder(30,72,0.7));this.objects.push(new a.Thunder(58,88,0.8));break;case a.SLEETTHUNDER:this.objects.push(new a.Cloud(68,50,80));this.addSleet();this.objects.push(new a.Thunder(95,85,0.7));this.objects.push(new a.Thunder(58,88,0.8));break;case a.EXTREME:case a.SLEET:this.objects.push(new a.Cloud(68,50,80));this.addSleet();break}}};a.Cloud=(function(){var b=function(i,j,g){i=i?i:68;j=j?j:50;g=g?g:80;var d=g*0.5;var c=new a.Point(i,j);var e=new a.Point(g,d);var f=new a.Point(g>>1,d>>1);this.size=e;this.po=new a.Point(c.x-f.x,c.y);this.p1=this.po.clone();this.p1.x+=e.x;this.cl=new a.Circle(new a.Point(c.x-f.x,c.y),g*0.14);this.cr=new a.Circle(new a.Point(c.x+f.x,c.y+g*0.03),g*0.1);this.ca=new a.Circle(new a.Point(c.x-f.x*0.42,c.y),g*0.35);this.cb=new a.Circle(new a.Point(c.x+f.x*0.45,c.y),g*0.25);this.cc=new a.Circle(new a.Point(c.x-f.x*0.2,c.y),g*0.28);this.pi=Math.PI;this.pi2=this.pi/2;this.p2=new a.Point(+this.w,this.h)};b.prototype={update:function(c){},draw:function(c){c.beginPath();c.arc(this.cl.center.x,this.cl.center.y,this.cl.r,0,2*this.pi);c.arc(this.cl.center.x+this.cl.r,this.cl.center.y,this.cl.r,0,2*this.pi);c.arc(this.cc.center.x,this.cc.center.y,this.cc.r,0,2*this.pi);c.arc(this.ca.center.x,this.ca.center.y,this.ca.r,this.pi,0);c.arc(this.cb.center.x,this.cb.center.y,this.cb.r,0,2*this.pi);c.arc(this.cr.center.x,this.cr.center.y,1.3*this.cr.r,0,2*this.pi);c.closePath();c.stroke();c.fill()}};return b}());a.Snow=(function(){var b=function(f,g,c,h){this.angle=c;this.speed=g;this.posIni=f;this.w=3;this.dy=this.w*4;this.pos=this.posIni.clone();this.rot=new a.Point(Math.cos(this.angle),Math.sin(this.angle));this.v=new a.Point(0,this.speed);this.v.rotate(this.rot);this.po=new a.Point();this.po.add(this.pos);var d=this.po.y-h;var e=this.rot.y/this.rot.x;this.pr=new a.Point(this.po.x+d*e,h);this.angle=Math.PI/3.5;this.angle2=2*this.angle;this.r=(this.w>>1)};b.prototype={reset:function(){this.po.set(0,0);this.po.add(this.pr)},update:function(d){var c=new a.Point(this.v.x*d,this.v.y*d);this.po.add(c);if(this.po.y>128){this.reset()}},draw:function(c){c.beginPath();c.arc(this.po.x,this.po.y+this.dy,this.w,0,6.28);c.closePath();c.stroke();c.fill()}};return b}());a.Drop=(function(){var b=function(f,g,c,i){this.angle=c;this.speed=g;this.posIni=f;this.isFreeze=false;this.elongation=2;this.w=10;this.h=this.w*this.elongation;this.pos=this.posIni.clone();this.rot=new a.Point(Math.cos(this.angle),Math.sin(this.angle));this.v=new a.Point(0,this.speed);this.v.rotate(this.rot);this.po=new a.Point();this.p1=new a.Point(-this.w,this.h);this.p2=new a.Point(+this.w,this.h);this.p1.rotate(this.rot);this.p2.rotate(this.rot);this.po.add(this.pos);this.p1.add(this.pos);this.p2.add(this.pos);var d=this.po.y-i;var e=this.rot.y/this.rot.x;var h=this.po.x+d*e;this.pr=new a.Point(h,i)};b.prototype={freeze:function(){this.isFreeze=true;this.angle=Math.PI/3.5;this.r=(this.w>>1)},reset:function(){this.po.set(0,0);this.p1.set(-this.w,this.h);this.p2.set(+this.w,this.h);this.p1.rotate(this.rot);this.p2.rotate(this.rot);this.po.add(this.pr);this.p1.add(this.pr);this.p2.add(this.pr)},update:function(d){var c=new a.Point(this.v.x*d,this.v.y*d);this.po.add(c);this.p1.add(c);this.p2.add(c);if(this.po.y>128){this.reset()}},draw:function(c){c.beginPath();if(this.isFreeze){c.save();c.translate(this.po.x,this.po.y);c.rect(-this.r,0,this.w,1);c.restore();c.save();c.translate(this.po.x,this.po.y);c.rotate(this.angle);c.rect(-this.r,0,this.w,1);c.restore();c.save();c.translate(this.po.x,this.po.y);c.rotate(-this.angle);c.rect(-this.r,0,this.w,1);c.restore()}else{c.moveTo(this.po.x,this.po.y);c.bezierCurveTo(this.p1.x,this.p1.y,this.p2.x,this.p2.y,this.po.x,this.po.y+1e-05)}c.closePath();c.stroke();c.fill()}};return b}());a.Thunder=(function(){function b(d,e,c){this.so=c||1;this.s=this.so;this.x=d;this.y=e;this.ti=500*Math.random();this.p=[];this.n=b.points.length}b.prototype.update=function(){if(!this.t){this.t=new Date().getTime()+this.ti;this.s=this.so;return}var d=new Date().getTime();var c=d-this.t-this.ti;this.s=0;if(c>2000){this.s=0;this.t=d}else{if(c>1000){this.s=this.so}else{if(c>700){this.s=(Math.random()<0.5)?this.so:0}}}};b.prototype.draw=function(c){c.beginPath();c.save();c.translate(this.x,this.y);c.scale(this.s,this.s);c.moveTo(b.points[0].x,b.points[0].y);var d=this.n;while(d--){c.lineTo(b.points[d].x,b.points[d].y)}c.stroke();c.fill();c.restore()};b.size={w:30,h:45};b.points=[{x:0,y:0},{x:0,y:22},{x:13,y:20},{x:3,y:43},{x:28,y:15},{x:12,y:13},{x:21,y:0}];return b}());a.Sun=(function(){var b=function(j,l,h,g){j=j?j:64;l=l?l:64;h=h?h:20;g=g?g:h*1.25;var d=new a.Point(j,l);this.rotation={val:0,inc:0.001};this.center=d;this.points=[];this.pointsExt=[];var f=20;var c=0;var e=Math.PI/f;while(f--){var i=h*Math.cos(c);var k=h*Math.sin(c);this.points.push(new a.Point(i,k));c+=e;var i=g*Math.cos(c);var k=g*Math.sin(c);this.pointsExt.push(new a.Point(i,k));c+=e}};b.prototype={update:function(c){},draw:function(c){var e=this.points.length;var d=0;c.save();c.translate(this.center.x,this.center.y);c.rotate(this.rotation.val+=this.rotation.inc);c.beginPath();c.moveTo(this.pointsExt[e-1].x,this.pointsExt[e-1].y);for(d=0;d<e;d++){c.quadraticCurveTo(this.points[d].x,this.points[d].y,this.pointsExt[d].x,this.pointsExt[d].y)}c.stroke();c.fill();c.restore()}};return b}());a.Fog=(function(){var b=function(){this.angle=0};b.PI2=Math.PI*2;b.prototype={update:function(c){this.angle+=0.01},draw:function(c){var d;d=0.2*Math.cos(this.angle);c.beginPath();c.save();c.translate(85,62);c.scale(13,1);c.arc(d,0,2,0,b.PI2);c.closePath();c.restore();c.stroke();c.fill();d=0.2*Math.cos(this.angle+0.5);c.beginPath();c.save();c.translate(40,70);c.scale(6,0.5);c.arc(d,0,5,0,b.PI2);c.closePath();c.restore();c.stroke();c.fill();d=0.3*Math.cos(this.angle);c.beginPath();c.save();c.translate(80,80);c.scale(6,0.5);c.arc(d,0,7,0,b.PI2);c.closePath();c.restore();c.stroke();c.fill();d=0.4*Math.cos(this.angle+0.9);c.beginPath();c.save();c.translate(56,92);c.scale(10,1);c.arc(d,0,5,0,b.PI2);c.closePath();c.restore();c.stroke();c.fill();d=0.2*Math.cos(this.angle);c.beginPath();c.save();c.translate(100,104);c.scale(7,1);c.arc(d,0,3,0,b.PI2);c.closePath();c.restore();c.stroke();c.fill()}};return b}());a.Moon=(function(){function b(d,e,c){this.x=d||0;this.y=e||0;this.r=c||20;this.rotDirection=1;this.rotAngle=0;this.angleMax=10*Math.PI/180}b.prototype={update:function(){if(this.rotAngle>this.angleMax){this.rotDirection=-1}else{if(this.rotAngle<-this.angleMax){this.rotDirection=1}}this.rotAngle+=0.002*this.rotDirection},draw:function(d){d.save();d.translate(this.x,this.y);d.rotate(-0.6+this.rotAngle);var c=0.31*Math.PI;d.beginPath();d.arc(0,0,this.r,c,-c);d.arc(this.r,0,this.r,Math.PI+c,Math.PI-c,true);d.stroke();d.fill();d.restore()}};return b}());a.particles={heavy:[new a.Point(22,96),new a.Point(22,116),new a.Point(36,71),new a.Point(47,95),new a.Point(47,115),new a.Point(57,64),new a.Point(66,88),new a.Point(66,108),new a.Point(78,61),new a.Point(83,94),new a.Point(83,114),new a.Point(95,72),new a.Point(104,88),new a.Point(104,108)],light:[new a.Point(22,96),new a.Point(36,71),new a.Point(47,110),new a.Point(66,88),new a.Point(78,61),new a.Point(83,110),new a.Point(104,88),]};a.DAY="Sun";a.NIGHT="Moon";a.LIGHT="light";a.HEAVY="heavy";a.SUN=1;a.LIGHTCLOUD=2;a.PARTLYCLOUD=3;a.CLOUD=4;a.LIGHTRAINSUN=5;a.LIGHTRAINTHUNDERSUN=6;a.SLEETSUN=7;a.SNOWSUN=8;a.LIGHTRAIN=9;a.RAIN=10;a.RAINTHUNDER=11;a.SLEET=12;a.SNOW=13;a.SNOWTHUNDER=14;a.FOG=15;a.SLEETSUNTHUNDER=20;a.SNOWSUNTHUNDER=21;a.LIGHTRAINTHUNDER=22;a.SLEETTHUNDER=23;a.DARKDAY_SUN=16;a.DARKDAY_LIGHTCLOUD=17;a.DARKDAY_LIGHTRAINSUN=18;a.DARKDAY_SNOWSUN=19;a.THUNDER=50;a.EXTREME=99;a.add=function(b,c,d){if(typeof b=="string"){b=document.getElementById(b)}if(d==undefined){d={}}var e=new a(b,d.stroke===false?false:true,d.shadow===true?true:false);e.setIcon(c);e.setBody(d.mode===a.NIGHT?a.NIGHT:a.DAY);e.build();e.draw();if(d.animated===true){e.update()}return e};return a}());