/* 
 * jQuery Steps v1.1.0 - 09/04/2014
 * Copyright (c) 2014 Rafael Staib (http://www.jquery-steps.com)
 * Licensed under MIT http://www.opensource.org/licenses/MIT
 */
(function(a,ad){a.fn.extend({_aria:function(af,ag){return this.attr("aria-"+af,ag)},_removeAria:function(af){return this.removeAttr("aria-"+af)},_enableAria:function(af){return(af==null||af)?this.removeClass("disabled")._aria("disabled","false"):this.addClass("disabled")._aria("disabled","true")},_showAria:function(af){return(af==null||af)?this.show()._aria("hidden","false"):this.hide()._aria("hidden","true")},_selectAria:function(af){return(af==null||af)?this.addClass("current")._aria("selected","true"):this.removeClass("current")._aria("selected","false")},_id:function(af){return(af)?this.attr("id",af):this.attr("id")}});if(!String.prototype.format){String.prototype.format=function(){var af=(arguments.length===1&&a.isArray(arguments[0]))?arguments[0]:arguments;var ag=this;for(var ah=0;ah<af.length;ah++){var ai=new RegExp("\\{"+ah+"\\}","gm");ag=ag.replace(ai,af[ah])}return ag}}var h=0;var b="jQu3ry_5teps_St@te_";var f="-t-";var e="-p-";var g="-h-";var c="Index out of range.";var d="One or more corresponding step {0} are missing.";function i(ag,af){w(ag).push(af)}function j(am,af,aj){var al=am.children(af.headerTag),ak=am.children(af.bodyTag);if(al.length>ak.length){ab(d,"contents")}else{if(al.length<ak.length){ab(d,"titles")}}var ai=af.startIndex;aj.stepCount=al.length;if(af.saveState&&a.cookie){var ah=a.cookie(b+y(am));var ag=parseInt(ah,0);if(!isNaN(ag)&&ag<aj.stepCount){ai=ag}}aj.currentIndex=ai;al.each(function(aq){var ar=a(this),an=ak.eq(aq),au=an.data("mode"),at=(au==null)?l.html:z(l,(/^\s*$/.test(au)||isNaN(au))?au:parseInt(au,0)),ap=(at===l.html||an.data("url")===ad)?"":an.data("url"),ao=(at!==l.html&&an.data("loaded")==="1"),av=a.extend({},Z,{title:ar.html(),content:(at===l.html)?an.html():"",contentUrl:ap,contentMode:at,contentLoaded:ao});i(am,av)})}function k(af){af.triggerHandler("canceled")}function m(ag,af){return ag.currentIndex-af}function o(ai,ah){var ag=q(ai);ai.unbind(ag).removeData("uid").removeData("options").removeData("state").removeData("steps").removeData("eventNamespace").find(".actions a").unbind(ag);ai.removeClass(ah.clearFixCssClass+" vertical");var af=ai.find(".content > *");af.removeData("loaded").removeData("mode").removeData("url");af.removeAttr("id").removeAttr("role").removeAttr("tabindex").removeAttr("class").removeAttr("style")._removeAria("labelledby")._removeAria("hidden");ai.find(".content > [data-mode='async'],.content > [data-mode='iframe']").empty();var ak=a('<{0} class="{1}"></{0}>'.format(ai.get(0).tagName,ai.attr("class")));var aj=ai._id();if(aj!=null&&aj!==""){ak._id(aj)}ak.html(ai.find(".content").html());ai.after(ak);ai.remove();return ak}function p(ah,ag){var af=ah.find(".steps li").eq(ag.currentIndex);if(ah.triggerHandler("finishing",[ag.currentIndex])){af.addClass("done").removeClass("error");ah.triggerHandler("finished",[ag.currentIndex])}else{af.addClass("error")}}function q(ag){var af=ag.data("eventNamespace");if(af==null){af="."+y(ag);ag.data("eventNamespace",af)}return af}function u(ah,af){var ag=y(ah);return ah.find("#"+ag+f+af)}function v(ah,af){var ag=y(ah);return ah.find("#"+ag+e+af)}function x(ah,af){var ag=y(ah);return ah.find("#"+ag+g+af)}function r(af){return af.data("options")}function s(af){return af.data("state")}function w(af){return af.data("steps")}function t(ah,af){var ag=w(ah);if(af<0||af>=ag.length){ab(c)}return ag[af]}function y(ag){var af=ag.data("uid");if(af==null){af=ag._id();if(af==null){af="steps-uid-".concat(h);ag._id(af)}h++;ag.data("uid",af)}return af}function z(af,ah){ae("enumType",af);ae("keyOrValue",ah);if(typeof ah==="string"){var ai=af[ah];if(ai===ad){ab("The enum key '{0}' does not exist.",ah)}return ai}else{if(typeof ah==="number"){for(var ag in af){if(af[ag]===ah){return ah}}ab("Invalid enum value '{0}'.",ah)}else{ab("Invalid key or value type.")}}}function A(ah,af,ag){return J(ah,af,ag,D(ag,1))}function B(ah,af,ag){return J(ah,af,ag,m(ag,1))}function C(aj,ah,ai,af){if(af<0||af>=ai.stepCount){ab(c)}if(ah.forceMoveForward&&af<ai.currentIndex){return}var ag=ai.currentIndex;if(aj.triggerHandler("stepChanging",[ai.currentIndex,af])){ai.currentIndex=af;W(aj,ah,ai);M(aj,ah,ai,ag);L(aj,ah,ai);I(aj,ah,ai);X(aj,ah,ai,af,ag,function(){aj.triggerHandler("stepChanged",[af,ag])})}else{aj.find(".steps li").eq(ag).addClass("error")}return true}function D(ag,af){return ag.currentIndex+af}function E(af){var ag=a.extend(true,{},n,af);return this.each(function(){var ai=a(this);var ah={currentIndex:ag.startIndex,currentStep:null,stepCount:0,transitionElement:null};ai.data("options",ag);ai.data("state",ah);ai.data("steps",[]);j(ai,ag,ah);R(ai,ag,ah);O(ai,ag);if(ag.autoFocus&&h===0){u(ai,ag.startIndex).focus()}ai.triggerHandler("init",[ag.startIndex])})}function F(am,aj,ak,ai,al){if(ai<0||ai>ak.stepCount){ab(c)}al=a.extend({},Z,al);G(am,ai,al);if(ak.currentIndex!==ak.stepCount&&ak.currentIndex>=ai){ak.currentIndex++;W(am,aj,ak)}ak.stepCount++;var ag=am.find(".content"),ah=a("<{0}>{1}</{0}>".format(aj.headerTag,al.title)),af=a("<{0}></{0}>".format(aj.bodyTag));if(al.contentMode==null||al.contentMode===l.html){af.html(al.content)}if(ai===0){ag.prepend(af).prepend(ah)}else{v(am,(ai-1)).after(af).after(ah)}S(am,ak,af,ai);V(am,aj,ak,ah,ai);N(am,aj,ak,ai);if(ai===ak.currentIndex){M(am,aj,ak)}L(am,aj,ak);return am}function G(ah,af,ag){w(ah).splice(af,0,ag)}function H(af){var aj=a(this),ah=r(aj),ai=s(aj);if(ah.suppressPaginationOnFocus&&aj.find(":focus").is(":input")){af.preventDefault();return false}var ag={left:37,right:39};if(af.keyCode===ag.left){af.preventDefault();B(aj,ah,ai)}else{if(af.keyCode===ag.right){af.preventDefault();A(aj,ah,ai)}}}function I(ak,ai,aj){if(aj.stepCount>0){var af=aj.currentIndex,ag=t(ak,af);if(!ai.enableContentCache||!ag.contentLoaded){switch(z(l,ag.contentMode)){case l.iframe:ak.find(".content > .body").eq(aj.currentIndex).empty().html('<iframe src="'+ag.contentUrl+'" frameborder="0" scrolling="no" />').data("loaded","1");break;case l.async:var ah=v(ak,af)._aria("busy","true").empty().append(U(ai.loadingTemplate,{text:ai.labels.loading}));a.ajax({url:ag.contentUrl,cache:false}).done(function(al){ah.empty().html(al)._aria("busy","false").data("loaded","1");ak.triggerHandler("contentLoaded",[af])});break}}}}function J(am,aj,al,ag){var ai=al.currentIndex;if(ag>=0&&ag<al.stepCount&&!(aj.forceMoveForward&&ag<al.currentIndex)){var af=u(am,ag),ak=af.parent(),ah=ak.hasClass("disabled");ak._enableAria();af.click();if(ai===al.currentIndex&&ah){ak._enableAria(false);return false}return true}return false}function K(ag){ag.preventDefault();var af=a(this),ak=af.parent().parent().parent().parent(),ai=r(ak),aj=s(ak),ah=af.attr("href");switch(ah.substring(ah.lastIndexOf("#")+1)){case"cancel":k(ak);break;case"finish":p(ak,aj);break;case"next":A(ak,ai,aj);break;case"previous":B(ak,ai,aj);break}}function L(ak,ah,aj){if(ah.enablePagination){var af=ak.find(".actions a[href$='#finish']").parent(),ag=ak.find(".actions a[href$='#next']").parent();if(!ah.forceMoveForward){var ai=ak.find(".actions a[href$='#previous']").parent();ai._enableAria(aj.currentIndex>0)}if(ah.enableFinishButton&&ah.showFinishButtonAlways){af._enableAria(aj.stepCount>0);ag._enableAria(aj.stepCount>1&&aj.stepCount>(aj.currentIndex+1))}else{af._showAria(ah.enableFinishButton&&aj.stepCount===(aj.currentIndex+1));ag._showAria(aj.stepCount===0||aj.stepCount>(aj.currentIndex+1))._enableAria(aj.stepCount>(aj.currentIndex+1)||!ah.enableFinishButton)}}}function M(am,aj,ak,ah){var ag=u(am,ak.currentIndex),af=a('<span class="current-info audible">'+aj.labels.current+" </span>"),al=am.find(".content > .title");if(ah!=null){var ai=u(am,ah);ai.parent().addClass("done").removeClass("error")._selectAria(false);al.eq(ah).removeClass("current").next(".body").removeClass("current");af=ai.find(".current-info");ag.focus()}ag.prepend(af).parent()._selectAria().removeClass("done")._enableAria();al.eq(ak.currentIndex).addClass("current").next(".body").addClass("current")}function N(ao,ah,ai,ag){var am=y(ao);for(var af=ag;af<ai.stepCount;af++){var an=am+f+af,ak=am+e+af,al=am+g+af,aj=ao.find(".title").eq(af)._id(al);ao.find(".steps a").eq(af)._id(an)._aria("controls",ak).attr("href","#"+al).html(U(ah.titleTemplate,{index:af+1,title:aj.html()}));ao.find(".body").eq(af)._id(ak)._aria("labelledby",al)}}function O(ah,ag){var af=q(ah);ah.bind("canceled"+af,ag.onCanceled);ah.bind("contentLoaded"+af,ag.onContentLoaded);ah.bind("finishing"+af,ag.onFinishing);ah.bind("finished"+af,ag.onFinished);ah.bind("init"+af,ag.onInit);ah.bind("stepChanging"+af,ag.onStepChanging);ah.bind("stepChanged"+af,ag.onStepChanged);if(ag.enableKeyNavigation){ah.bind("keyup"+af,H)}ah.find(".actions a").bind("click"+af,K)}function P(ai,ag,ah,af){if(af<0||af>=ah.stepCount||ah.currentIndex===af){return false}Q(ai,af);if(ah.currentIndex>af){ah.currentIndex--;W(ai,ag,ah)}ah.stepCount--;x(ai,af).remove();v(ai,af).remove();u(ai,af).parent().remove();if(af===0){ai.find(".steps li").first().addClass("first")}if(af===ah.stepCount){ai.find(".steps li").eq(af).addClass("last")}N(ai,ag,ah,af);L(ai,ag,ah);return true}function Q(ag,af){w(ag).splice(af,1)}function R(an,ag,ai){var ao='<{0} class="{1}">{2}</{0}>',ah=z(aa,ag.stepsOrientation),am=(ah===aa.vertical)?" vertical":"",af=a(ao.format(ag.contentContainerTag,"content "+ag.clearFixCssClass,an.html())),ak=a(ao.format(ag.stepsContainerTag,"steps "+ag.clearFixCssClass,'<ul role="tablist"></ul>')),al=af.children(ag.headerTag),aj=af.children(ag.bodyTag);an.attr("role","application").empty().append(ak).append(af).addClass(ag.cssClass+" "+ag.clearFixCssClass+am);aj.each(function(ap){S(an,ai,a(this),ap)});al.each(function(ap){V(an,ag,ai,a(this),ap)});M(an,ag,ai);T(an,ag,ai)}function S(al,ah,af,ag){var ak=y(al),ai=ak+e+ag,aj=ak+g+ag;af._id(ai).attr("role","tabpanel")._aria("labelledby",aj).addClass("body")._showAria(ah.currentIndex===ag)}function T(ak,ah,aj){if(ah.enablePagination){var ai='<{0} class="actions {1}"><ul role="menu" aria-label="{2}">{3}</ul></{0}>',ag='<li><a href="#{0}" role="menuitem">{1}</a></li>',af="";if(!ah.forceMoveForward){af+=ag.format("previous",ah.labels.previous)}af+=ag.format("next",ah.labels.next);if(ah.enableFinishButton){af+=ag.format("finish",ah.labels.finish)}if(ah.enableCancelButton){af+=ag.format("cancel",ah.labels.cancel)}ak.append(ai.format(ah.actionContainerTag,ah.clearFixCssClass,ah.labels.pagination,af));L(ak,ah,aj);I(ak,ah,aj)}}function U(ak,aj){var ai=ak.match(/#([a-z]*)#/gi);for(var af=0;af<ai.length;af++){var ah=ai[af],ag=ah.substring(1,ah.length-1);if(aj[ag]===ad){ab("The key '{0}' does not exist in the substitute collection!",ag)}ak=ak.replace(ah,aj[ag])}return ak}function V(aq,ah,ai,af,ag){var ao=y(aq),ap=ao+f+ag,am=ao+e+ag,an=ao+g+ag,aj=aq.find(".steps > ul"),al=U(ah.titleTemplate,{index:ag+1,title:af.html()}),ak=a('<li role="tab"><a id="'+ap+'" href="#'+an+'" aria-controls="'+am+'">'+al+"</a></li>");ak._enableAria(ah.enableAllSteps||ai.currentIndex>ag);if(ai.currentIndex>ag){ak.addClass("done")}af._id(an).attr("tabindex","-1").addClass("title");if(ag===0){aj.prepend(ak)}else{aj.find("li").eq(ag-1).after(ak)}if(ag===0){aj.find("li").removeClass("first").eq(ag).addClass("first")}if(ag===(ai.stepCount-1)){aj.find("li").removeClass("last").eq(ag).addClass("last")}ak.children("a").bind("click"+q(aq),Y)}function W(ah,af,ag){if(af.saveState&&a.cookie){a.cookie(b+y(ah),ag.currentIndex)}}function X(av,an,at,ak,am,ag){var au=av.find(".content > .body"),ah=z(ac,an.transitionEffect),ai=an.transitionEffectSpeed,al=au.eq(ak),af=au.eq(am);switch(ah){case ac.fade:case ac.slide:var aj=(ah===ac.fade)?"fadeOut":"slideUp",ar=(ah===ac.fade)?"fadeIn":"slideDown";at.transitionElement=al;af[aj](ai,function(){var ax=a(this)._showAria(false).parent().parent(),aw=s(ax);if(aw.transitionElement){aw.transitionElement[ar](ai,function(){a(this)._showAria()}).promise().done(ag);aw.transitionElement=null}});break;case ac.slideLeft:var ao=af.outerWidth(true),aq=(ak>am)?-(ao):ao,ap=(ak>am)?ao:-(ao);a.when(af.animate({left:aq},ai,function(){a(this)._showAria(false)}),al.css("left",ap+"px")._showAria().animate({left:0},ai)).done(ag);break;default:a.when(af._showAria(false),al._showAria()).done(ag);break}}function Y(ag){ag.preventDefault();var af=a(this),am=af.parent().parent().parent().parent(),aj=r(am),al=s(am),ai=al.currentIndex;if(af.parent().is(":not(.disabled):not(.current)")){var ah=af.attr("href"),ak=parseInt(ah.substring(ah.lastIndexOf("-")+1),0);C(am,aj,al,ak)}if(ai===al.currentIndex){u(am,ai).focus();return false}}function ab(af){if(arguments.length>1){af=af.format(Array.prototype.slice.call(arguments,1))}throw new Error(af)}function ae(af,ag){if(ag==null){ab("The argument '{0}' is null or undefined.",af)}}a.fn.steps=function(af){if(a.fn.steps[af]){return a.fn.steps[af].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof af==="object"||!af){return E.apply(this,arguments)}else{a.error("Method "+af+" does not exist on jQuery.steps")}}};a.fn.steps.add=function(ag){var af=s(this);return F(this,r(this),af,af.stepCount,ag)};a.fn.steps.destroy=function(){return o(this,r(this))};a.fn.steps.finish=function(){p(this,s(this))};a.fn.steps.getCurrentIndex=function(){return s(this).currentIndex};a.fn.steps.getCurrentStep=function(){return t(this,s(this).currentIndex)};a.fn.steps.getStep=function(af){return t(this,af)};a.fn.steps.insert=function(af,ag){return F(this,r(this),s(this),af,ag)};a.fn.steps.next=function(){return A(this,r(this),s(this))};a.fn.steps.previous=function(){return B(this,r(this),s(this))};a.fn.steps.remove=function(af){return P(this,r(this),s(this),af)};a.fn.steps.setStep=function(af,ag){throw new Error("Not yet implemented!")};a.fn.steps.skip=function(af){throw new Error("Not yet implemented!")};var l=a.fn.steps.contentMode={html:0,iframe:1,async:2};var aa=a.fn.steps.stepsOrientation={horizontal:0,vertical:1};var ac=a.fn.steps.transitionEffect={none:0,fade:1,slide:2,slideLeft:3};var Z=a.fn.steps.stepModel={title:"",content:"",contentUrl:"",contentMode:l.html,contentLoaded:false};var n=a.fn.steps.defaults={headerTag:"h1",bodyTag:"div",contentContainerTag:"div",actionContainerTag:"div",stepsContainerTag:"div",cssClass:"wizard",clearFixCssClass:"clearfix",stepsOrientation:aa.horizontal,titleTemplate:'<span class="number">#index#.</span> #title#',loadingTemplate:'<span class="spinner"></span> #text#',autoFocus:false,enableAllSteps:false,enableKeyNavigation:true,enablePagination:true,suppressPaginationOnFocus:true,enableContentCache:true,enableCancelButton:false,enableFinishButton:true,preloadContent:false,showFinishButtonAlways:false,forceMoveForward:false,saveState:false,startIndex:0,transitionEffect:ac.none,transitionEffectSpeed:200,onStepChanging:function(ag,af,ah){return true},onStepChanged:function(ag,af,ah){},onCanceled:function(af){},onFinishing:function(ag,af){return true},onFinished:function(ag,af){},onContentLoaded:function(ag,af){},onInit:function(ag,af){},labels:{cancel:"Cancel",current:"current step:",pagination:"Pagination",finish:"Finish",next:"Next",previous:"Previous",loading:"Loading ..."}}})(jQuery);