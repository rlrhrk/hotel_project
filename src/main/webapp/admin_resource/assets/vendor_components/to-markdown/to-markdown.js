(function(a){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=a()}else{if(typeof define==="function"&&define.amd){define([],a)}else{var b;if(typeof window!=="undefined"){b=window}else{if(typeof global!=="undefined"){b=global}else{if(typeof self!=="undefined"){b=self}else{b=this}}}b.toMarkdown=a()}}})(function(){var a,d,c;return(function b(k,f,h){function j(p,q){if(!f[p]){if(!k[p]){var i=typeof require=="function"&&require;if(!q&&i){return i(p,!0)}if(e){return e(p,!0)}var m=new Error("Cannot find module '"+p+"'");throw m.code="MODULE_NOT_FOUND",m}var n=f[p]={exports:{}};k[p][0].call(n.exports,function(l){var o=k[p][1][l];return j(o?o:l)},n,n.exports,b,k,f,h)}return f[p].exports}var e=typeof require=="function"&&require;for(var g=0;g<h.length;g++){j(h[g])}return j})({1:[function(w,t,j){var x;var i;var s=w("./lib/md-converters");var m=w("./lib/gfm-converters");var n=w("./lib/html-parser");var h=w("collapse-whitespace");var f=["address","article","aside","audio","blockquote","body","canvas","center","dd","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frameset","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","isindex","li","main","menu","nav","noframes","noscript","ol","output","p","pre","section","table","tbody","td","tfoot","th","thead","tr","ul"];function p(z){return f.indexOf(z.nodeName.toLowerCase())!==-1}var y=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"];function r(z){return y.indexOf(z.nodeName.toLowerCase())!==-1}function o(z){var A=new n().parseFromString(z,"text/html");h(A.documentElement,p);return A}function e(D){var C=[D];var E=[];var A;var z;var B;while(C.length>0){A=C.shift();E.push(A);z=A.childNodes;for(B=0;B<z.length;B++){if(z[B].nodeType===1){C.push(z[B])}}}E.shift();return E}function l(A){var B="";for(var z=0;z<A.childNodes.length;z++){if(A.childNodes[z].nodeType===1){B+=A.childNodes[z]._replacement}else{if(A.childNodes[z].nodeType===3){B+=A.childNodes[z].data}else{continue}}}return B}function u(A,z){return A.cloneNode(false).outerHTML.replace("><",">"+z+"<")}function g(A,z){if(typeof z==="string"){return z===A.nodeName.toLowerCase()}if(Array.isArray(z)){return z.indexOf(A.nodeName.toLowerCase())!==-1}else{if(typeof z==="function"){return z.call(x,A)}else{throw new TypeError("`filter` needs to be a string, array, or function")}}}function q(D,A){var C;var B;var z;if(D==="left"){C=A.previousSibling;B=/ $/}else{C=A.nextSibling;B=/^ /}if(C){if(C.nodeType===3){z=B.test(C.nodeValue)}else{if(C.nodeType===1&&!p(C)){z=B.test(C.textContent)}}}return z}function k(D,z){var C="";var E="";if(!p(D)){var A=/^[ \r\n\t]/.test(z);var B=/[ \r\n\t]$/.test(z);if(A&&!q("left",D)){C=" "}if(B&&!q("right",D)){E=" "}}return{leading:C,trailing:E}}function v(C){var D;var z=l(C);if(!r(C)&&!/A|TH|TD/.test(C.nodeName)&&/^\s*$/i.test(z)){C._replacement="";return}for(var B=0;B<i.length;B++){var A=i[B];if(g(C,A.filter)){if(typeof A.replacement!=="function"){throw new TypeError("`replacement` needs to be a function that returns a string")}var E=k(C,z);if(E.leading||E.trailing){z=z.trim()}D=E.leading+A.replacement.call(x,z,C)+E.trailing;break}}C._replacement=D}x=function(B,D){D=D||{};if(typeof B!=="string"){throw new TypeError(B+" is not a string")}if(B===""){return""}B=B.replace(/(\d+)\. /g,"$1\\. ");var z=o(B).body;var C=e(z);var E;i=s.slice(0);if(D.gfm){i=m.concat(i)}if(D.converters){i=D.converters.concat(i)}for(var A=C.length-1;A>=0;A--){v(C[A])}E=l(z);return E.replace(/^[\t\r\n]+|[\t\r\n\s]+$/g,"").replace(/\n\s+\n/g,"\n\n").replace(/\n{3,}/g,"\n\n")};x.isBlock=p;x.isVoid=r;x.outer=u;t.exports=x},{"./lib/gfm-converters":2,"./lib/html-parser":3,"./lib/md-converters":4,"collapse-whitespace":7}],2:[function(i,h,f){function e(j,l){var k=Array.prototype.indexOf.call(l.parentNode.childNodes,l);var m=" ";if(k===0){m="| "}return m+j+" |"}var g=/highlight highlight-(\S+)/;h.exports=[{filter:"br",replacement:function(){return"\n"}},{filter:["del","s","strike"],replacement:function(j){return"~~"+j+"~~"}},{filter:function(j){return j.type==="checkbox"&&j.parentNode.nodeName==="LI"},replacement:function(j,k){return(k.checked?"[x]":"[ ]")+" "}},{filter:["th","td"],replacement:function(j,k){return e(j,k)}},{filter:"tr",replacement:function(n,p){var m="";var k={left:":--",right:"--:",center:":-:"};if(p.parentNode.nodeName==="THEAD"){for(var o=0;o<p.childNodes.length;o++){var j=p.childNodes[o].attributes.align;var l="---";if(j){l=k[j.value]||l}m+=e(l,p.childNodes[o])}}return"\n"+n+(m?"\n"+m:"")}},{filter:"table",replacement:function(j){return"\n\n"+j+"\n\n"}},{filter:["thead","tbody","tfoot"],replacement:function(j){return j}},{filter:function(j){return j.nodeName==="PRE"&&j.firstChild&&j.firstChild.nodeName==="CODE"},replacement:function(j,k){return"\n\n```\n"+k.firstChild.textContent+"\n```\n\n"}},{filter:function(j){return j.nodeName==="PRE"&&j.parentNode.nodeName==="DIV"&&g.test(j.parentNode.className)},replacement:function(j,l){var k=l.parentNode.className.match(g)[1];return"\n\n```"+k+"\n"+l.textContent+"\n```\n\n"}},{filter:function(j){return j.nodeName==="DIV"&&g.test(j.className)},replacement:function(j){return"\n\n"+j+"\n\n"}}]},{}],3:[function(j,i,h){var e=(typeof window!=="undefined"?window:this);function f(){var n=e.DOMParser;var l=false;try{if(new n().parseFromString("","text/html")){l=true}}catch(m){}return l}function g(){var m=function(){};if(typeof document==="undefined"){var l=j("jsdom");m.prototype.parseFromString=function(n){return l.jsdom(n,{features:{FetchExternalResources:[],ProcessExternalResources:false}})}}else{if(!k()){m.prototype.parseFromString=function(o){var n=document.implementation.createHTMLDocument("");n.open();n.write(o);n.close();return n}}else{m.prototype.parseFromString=function(o){var n=new window.ActiveXObject("htmlfile");n.designMode="on";n.open();n.write(o);n.close();return n}}}return m}function k(){var m=false;try{document.implementation.createHTMLDocument("").open()}catch(l){if(window.ActiveXObject){m=true}}return m}i.exports=f()?e.DOMParser:g()},{jsdom:6}],4:[function(g,f,e){f.exports=[{filter:"p",replacement:function(h){return"\n\n"+h+"\n\n"}},{filter:"br",replacement:function(){return"  \n"}},{filter:["h1","h2","h3","h4","h5","h6"],replacement:function(h,m){var j=m.nodeName.charAt(1);var k="";for(var l=0;l<j;l++){k+="#"}return"\n\n"+k+" "+h+"\n\n"}},{filter:"hr",replacement:function(){return"\n\n* * *\n\n"}},{filter:["em","i"],replacement:function(h){return"_"+h+"_"}},{filter:["strong","b"],replacement:function(h){return"**"+h+"**"}},{filter:function(j){var h=j.previousSibling||j.nextSibling;var i=j.parentNode.nodeName==="PRE"&&!h;return j.nodeName==="CODE"&&!i},replacement:function(h){return"`"+h+"`"}},{filter:function(h){return h.nodeName==="A"&&h.getAttribute("href")},replacement:function(h,i){var j=i.title?' "'+i.title+'"':"";return"["+h+"]("+i.getAttribute("href")+j+")"}},{filter:"img",replacement:function(i,j){var h=j.alt||"";var k=j.getAttribute("src")||"";var l=j.title||"";var m=l?' "'+l+'"':"";return k?"!["+h+"]("+k+m+")":""}},{filter:function(h){return h.nodeName==="PRE"&&h.firstChild.nodeName==="CODE"},replacement:function(h,i){return"\n\n    "+i.firstChild.textContent.replace(/\n/g,"\n    ")+"\n\n"}},{filter:"blockquote",replacement:function(h){h=h.trim();h=h.replace(/\n{3,}/g,"\n\n");h=h.replace(/^/gm,"> ");return"\n\n"+h+"\n\n"}},{filter:"li",replacement:function(h,j){h=h.replace(/^\s+/,"").replace(/\n/gm,"\n    ");var l="*   ";var k=j.parentNode;var i=Array.prototype.indexOf.call(k.children,j)+1;l=/ol/i.test(k.nodeName)?i+".  ":"*   ";return l+h}},{filter:["ul","ol"],replacement:function(h,k){var l=[];for(var j=0;j<k.childNodes.length;j++){l.push(k.childNodes[j]._replacement)}if(/li/i.test(k.parentNode.nodeName)){return"\n"+l.join("\n")}return"\n\n"+l.join("\n")+"\n\n"}},{filter:function(h){return this.isBlock(h)},replacement:function(h,i){return"\n\n"+this.outer(i,h)+"\n\n"}},{filter:function(){return true},replacement:function(h,i){return this.outer(i,h)}}]},{}],5:[function(g,f,e){f.exports=["address","article","aside","audio","blockquote","canvas","dd","div","dl","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","main","nav","noscript","ol","output","p","pre","section","table","tfoot","ul","video"]},{}],6:[function(g,f,e){},{}],7:[function(m,j,g){var n=m("void-elements");Object.keys(n).forEach(function(o){n[o.toUpperCase()]=1});var e={};m("block-elements").forEach(function(o){e[o.toUpperCase()]=1});function h(o){return !!(o&&e[o.nodeName])}function i(o){return !!(o&&n[o.nodeName])}function f(o,p){if(!o.firstChild||o.nodeName==="PRE"){return}if(typeof p!=="function"){p=h}var t=null;var u=false;var s=null;var r=k(s,o);while(r!==o){if(r.nodeType===3){var v=r.data.replace(/[ \r\n\t]+/g," ");if((!t||/ $/.test(t.data))&&!u&&v[0]===" "){v=v.substr(1)}if(!v){r=l(r);continue}r.data=v;t=r}else{if(r.nodeType===1){if(p(r)||r.nodeName==="BR"){if(t){t.data=t.data.replace(/ $/,"")}t=null;u=false}else{if(i(r)){t=null;u=true}}}else{r=l(r);continue}}var q=k(s,r);s=r;r=q}if(t){t.data=t.data.replace(/ $/,"");if(!t.data){l(t)}}}function l(p){var o=p.nextSibling||p.parentNode;p.parentNode.removeChild(p);return o}function k(p,o){if(p&&p.parentNode===o||o.nodeName==="PRE"){return o.nextSibling||o.parentNode}return o.firstChild||o.nextSibling||o.parentNode}j.exports=f},{"block-elements":5,"void-elements":8}],8:[function(g,f,e){f.exports={area:true,base:true,br:true,col:true,embed:true,hr:true,img:true,input:true,keygen:true,link:true,menuitem:true,meta:true,param:true,source:true,track:true,wbr:true}},{}]},{},[1])(1)});