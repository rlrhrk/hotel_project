nv.utils.windowSize=function(){var a={width:640,height:480};if(document.body&&document.body.offsetWidth){a.width=document.body.offsetWidth;a.height=document.body.offsetHeight}if(document.compatMode=="CSS1Compat"&&document.documentElement&&document.documentElement.offsetWidth){a.width=document.documentElement.offsetWidth;a.height=document.documentElement.offsetHeight}if(window.innerWidth&&window.innerHeight){a.width=window.innerWidth;a.height=window.innerHeight}return(a)};nv.utils.windowResize=function(a){if(a===undefined){return}var b=window.onresize;window.onresize=function(c){if(typeof b=="function"){b(c)}a(c)}};nv.utils.getColor=function(a){if(!arguments.length){return nv.utils.defaultColor()}if(Object.prototype.toString.call(a)==="[object Array]"){return function(b,c){return b.color||a[c%a.length]}}else{return a}};nv.utils.defaultColor=function(){var a=d3.scale.category20().range();return function(b,c){return b.color||a[c%a.length]}};nv.utils.customTheme=function(c,d,a){d=d||function(e){return e.key};a=a||d3.scale.category20().range();var b=a.length;return function(g,e){var f=d(g);if(!b){b=a.length}if(typeof c[f]!=="undefined"){return(typeof c[f]==="function")?c[f]():c[f]}else{return a[--b]}}};nv.utils.pjax=function(b,a){d3.selectAll(b).on("click",function(){history.pushState(this.href,this.textContent,this.href);c(this.href);d3.event.preventDefault()});function c(d){d3.html(d,function(e){var f=d3.select(a).node();f.parentNode.replaceChild(d3.select(e).select(a).node(),f);nv.utils.pjax(b,a)})}d3.select(window).on("popstate",function(){if(d3.event.state){c(d3.event.state)}})};nv.utils.calcApproxTextWidth=function(b){if(typeof b.style==="function"&&typeof b.text==="function"){var a=parseInt(b.style("font-size").replace("px",""));var c=b.text().length;return c*a*0.5}return 0};nv.utils.NaNtoZero=function(a){if(typeof a!=="number"||isNaN(a)||a===null||a===Infinity){return 0}return a};nv.utils.optionsFunc=function(a){if(a){d3.map(a).forEach((function(b,c){if(typeof this[b]==="function"){this[b](c)}}).bind(this))}return this};